# Add DPoP token header
Automatically add DPoP token header generated by requested url, authorization token, publickey and privatekey

## Installation

### From Insomnia Plugin Hub

1. Navigate to [https://insomnia.rest/plugins/insomnia-plugin-dpop-header-adder](https://insomnia.rest/plugins/insomnia-plugin-dpop-header-adder)
2. Click _Install Plugin_
3. Click _Open_
4. Once opened, click _Install_

### From the Insomnia App

1. Go to _Application_ > _Preferences_ **or** click the cog icon (⚙️)
2. Navigate to the _Plugins_ tab
3. Enter `insomnia-plugin-dpop-header-adder`
4. Click _Install_

### Manual Install

1. Using a terminal, `cd` into your Insomnia plugins folder - [See Insomnia Docs](https://docs.insomnia.rest/insomnia/introduction-to-plugins)
2. Run `git clone https://github.com/simon1389/insomnia-plugin-dpop-header-adder.git`

### Usage

- For a requst, which contains a header `DPoP` with any dummy value, there will be generated the correct dpop-header.
- You have to provide a valid Authorization token
- You have to provide the corresponding private-key and public-key base64 encoded either as environment-variables `DPoPPublicKey`/`DPoPPrivateKey` or in header-variables `PrivateKey`/`PublicKey`
- The private and public-key are not sent with the request. They get deleted beforehand
